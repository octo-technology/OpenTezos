(self.webpackChunkopentezos=self.webpackChunkopentezos||[]).push([[8952],{3905:function(e,t,r){"use strict";r.d(t,{Zo:function(){return p},kt:function(){return m}});var n=r(7294);function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){a(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function l(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var c=n.createContext({}),s=function(e){var t=n.useContext(c),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},p=function(e){var t=s(e.components);return n.createElement(c.Provider,{value:t},e.children)},d={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var r=e.components,a=e.mdxType,o=e.originalType,c=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),u=s(r),m=a,h=u["".concat(c,".").concat(m)]||u[m]||d[m]||o;return r?n.createElement(h,i(i({ref:t},p),{},{components:r})):n.createElement(h,i({ref:t},p))}));function m(e,t){var r=arguments,a=t&&t.mdxType;if("string"==typeof e||a){var o=r.length,i=new Array(o);i[0]=u;var l={};for(var c in t)hasOwnProperty.call(t,c)&&(l[c]=t[c]);l.originalType=e,l.mdxType="string"==typeof e?e:a,i[1]=l;for(var s=2;s<o;s++)i[s]=r[s];return n.createElement.apply(null,i)}return n.createElement.apply(null,r)}u.displayName="MDXCreateElement"},9990:function(e,t,r){"use strict";r.r(t),r.d(t,{frontMatter:function(){return i},metadata:function(){return l},toc:function(){return c},default:function(){return p}});var n=r(2122),a=r(9756),o=(r(7294),r(3905)),i={id:"indexer-explained",title:"How Indexers Work?",authors:"Maxime Sallerin"},l={unversionedId:"explorer/indexer-explained",id:"explorer/indexer-explained",isDocsHomePage:!1,title:"How Indexers Work?",description:"This chapter aims to describe the functioning of a typical indexer and its components.",source:"@site/docs/explorer/indexer-explained.md",sourceDirName:"explorer",slug:"/explorer/indexer-explained",permalink:"/explorer/indexer-explained",editUrl:"https://github.com/octo-technology/OpenTezos/tree/main/docs/explorer/indexer-explained.md",version:"current",lastUpdatedBy:"Maxime Sallerin",lastUpdatedAt:1622627280,formattedLastUpdatedAt:"6/2/2021",frontMatter:{id:"indexer-explained",title:"How Indexers Work?",authors:"Maxime Sallerin"},sidebar:"docs",previous:{title:"Introduction",permalink:"/explorer"},next:{title:"Available Tezos Explorers",permalink:"/explorer/available-tezos-indexers"}},c=[{value:"Typical Blockchain Explorer Backends",id:"typical-blockchain-explorer-backends",children:[]},{value:"Focus on BlockWatch Indexer (TzIndex)",id:"focus-on-blockwatch-indexer-tzindex",children:[]},{value:"To go further",id:"to-go-further",children:[]},{value:"References",id:"references",children:[]}],s={toc:c};function p(e){var t=e.components,i=(0,a.Z)(e,["components"]);return(0,o.kt)("wrapper",(0,n.Z)({},s,i,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"This chapter aims to describe the functioning of a typical indexer and its components.\nWe will then take the example of ",(0,o.kt)("strong",{parentName:"p"},"BlockWatch Indexer")," used for the ",(0,o.kt)("strong",{parentName:"p"},"TzStats explorer"),"."),(0,o.kt)("h2",{id:"typical-blockchain-explorer-backends"},"Typical Blockchain Explorer Backends"),(0,o.kt)("p",null,"Indexers are node operators that extract, transform and load data into a database by mapping the data into a pre-defined schema of tables with referential integrity\nin order to provide indexing and query processing services via an ",(0,o.kt)("strong",{parentName:"p"},"API"),"."),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},(0,o.kt)("strong",{parentName:"p"},"Indexing")," is a data structure technique to efficiently retrieve records from the database based on some attributes on which the indexing has been done.")),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"A ",(0,o.kt)("strong",{parentName:"li"},"Tezos Node")," is the heart of the blockchain. It manages the protocol. Here the Archive node is responsible for fetching all the data from the network that will be used and made available by the indexer/explorer."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"ETL")," stands for ",(0,o.kt)("em",{parentName:"li"},"extract, transform, and load"),"."),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("strong",{parentName:"li"},"API")," is the acronym for ",(0,o.kt)("em",{parentName:"li"},"Application Programming Interface"),",\nwhich is a software intermediary that allows two applications to talk to each other.")),(0,o.kt)("br",null),(0,o.kt)("p",{align:"center"},(0,o.kt)("p",null,(0,o.kt)("img",{src:r(3966).Z})),(0,o.kt)("small",{align:"center",className:"figure"},"FIGURE 1: Typical Blockchain Explorer Backends")),(0,o.kt)("br",null),(0,o.kt)("h2",{id:"focus-on-blockwatch-indexer-tzindex"},"Focus on BlockWatch Indexer (TzIndex)"),(0,o.kt)("p",null,"The Blockwatch Indexer ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/blockwatch-cc/tzindex"},"TzIndex")," is used for the ",(0,o.kt)("a",{parentName:"p",href:"https://tzstats.com/"},"TzStats explorer"),"."),(0,o.kt)("p",null,"The ",(0,o.kt)("strong",{parentName:"p"},"Blockwatch indexer")," uses a high-performance columnar database that allows for extremely fast analytical queries."),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},(0,o.kt)("strong",{parentName:"p"},"Columnar database")," is a column-oriented storage for database.\nIt is optimized for fast retrieval of data columns,\nfor example, for analytical applications.\nIt significantly reduces the overall disk I/O requirements\nand limits the amount of data you need to load from the disk.")),(0,o.kt)("p",null,"It's a custom-made database for blockchain analytics. Avoiding the storage bottleneck allows for more complex data processing."),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},(0,o.kt)("strong",{parentName:"p"},"Storage bottleneck")," is a situation where the flow of data gets impaired\nor stopped completely due to bad performance or lack of resources.")),(0,o.kt)("p",null,"State updates happen at each block, which means all the balance updates are always verified,\nand the indexer will follow chain reorganizations in real-time."),(0,o.kt)("p",null,(0,o.kt)("img",{src:r(2819).Z})),(0,o.kt)("small",{className:"figure"},"FIGURE 2: Blockwatch Indexer"),(0,o.kt)("h2",{id:"to-go-further"},"To go further"),(0,o.kt)("p",null,"To learn more on the subject, please refer to the official ",(0,o.kt)("a",{parentName:"p",href:"https://tzstats.com/blog/next-gen-blockchain-indexing-for-tezos/"},"TzStats blog post")," and this ",(0,o.kt)("a",{parentName:"p",href:"https://www.youtube.com/watch?v=2I9mmA0GzMk"},"video")," that illustrates the inner workings of an indexer."),(0,o.kt)("h2",{id:"references"},"References"),(0,o.kt)("p",null,"[1]"," ",(0,o.kt)("a",{parentName:"p",href:"https://tzstats.com/blog/next-gen-blockchain-indexing-for-tezos/"},"https://tzstats.com/blog/next-gen-blockchain-indexing-for-tezos/")),(0,o.kt)("p",null,"[2]"," ",(0,o.kt)("a",{parentName:"p",href:"https://www.youtube.com/watch?v=2I9mmA0GzMk"},"https://www.youtube.com/watch?v=2I9mmA0GzMk")))}p.isMDXComponent=!0},2819:function(e,t,r){"use strict";t.Z=r.p+"assets/images/blockwatch_indexer-114ea14b99d3f20b39d238e0e3332b25.svg"},3966:function(e,t,r){"use strict";t.Z=r.p+"assets/images/traditional_indexer-e934ceebc46d23cdcacd0a94ea44b3b3.svg"}}]);