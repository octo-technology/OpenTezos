(self.webpackChunkopentezos=self.webpackChunkopentezos||[]).push([[8174],{3905:function(e,a,t){"use strict";t.d(a,{Zo:function(){return l},kt:function(){return k}});var n=t(7294);function s(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function r(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function m(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?r(Object(t),!0).forEach((function(a){s(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):r(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function i(e,a){if(null==e)return{};var t,n,s=function(e,a){if(null==e)return{};var t,n,s={},r=Object.keys(e);for(n=0;n<r.length;n++)t=r[n],a.indexOf(t)>=0||(s[t]=e[t]);return s}(e,a);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(n=0;n<r.length;n++)t=r[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(s[t]=e[t])}return s}var p=n.createContext({}),o=function(e){var a=n.useContext(p),t=a;return e&&(t="function"==typeof e?e(a):m(m({},a),e)),t},l=function(e){var a=o(e.components);return n.createElement(p.Provider,{value:a},e.children)},c={inlineCode:"code",wrapper:function(e){var a=e.children;return n.createElement(n.Fragment,{},a)}},h=n.forwardRef((function(e,a){var t=e.components,s=e.mdxType,r=e.originalType,p=e.parentName,l=i(e,["components","mdxType","originalType","parentName"]),h=o(t),k=s,N=h["".concat(p,".").concat(k)]||h[k]||c[k]||r;return t?n.createElement(N,m(m({ref:a},l),{},{components:t})):n.createElement(N,m({ref:a},l))}));function k(e,a){var t=arguments,s=a&&a.mdxType;if("string"==typeof e||s){var r=t.length,m=new Array(r);m[0]=h;var i={};for(var p in a)hasOwnProperty.call(a,p)&&(i[p]=a[p]);i.originalType=e,i.mdxType="string"==typeof e?e:s,m[1]=i;for(var o=2;o<r;o++)m[o]=t[o];return n.createElement.apply(null,m)}return n.createElement.apply(null,t)}h.displayName="MDXCreateElement"},2106:function(e,a,t){"use strict";t.r(a),t.d(a,{frontMatter:function(){return m},metadata:function(){return i},toc:function(){return p},default:function(){return l}});var n=t(2122),s=t(9756),r=(t(7294),t(3905)),m={id:"main-properties",disable_pagination:!0,title:'Main properties of the first "blockchain"',authors:"Thomas Zoughebi"},i={unversionedId:"blockchain-basics/main-properties",id:"blockchain-basics/main-properties",isDocsHomePage:!1,title:'Main properties of the first "blockchain"',description:"In this chapter, we will dig deeper into the main properties of the Bitcoin protocol, its developers, its P2P network, and a few basics of its economic structure.",source:"@site/docs/blockchain-basics/main-properties.md",sourceDirName:"blockchain-basics",slug:"/blockchain-basics/main-properties",permalink:"/blockchain-basics/main-properties",editUrl:"https://github.com/octo-technology/OpenTezos/tree/main/docs/blockchain-basics/main-properties.md",version:"current",lastUpdatedBy:"ThomasZoughebi",lastUpdatedAt:1622013377,formattedLastUpdatedAt:"5/26/2021",frontMatter:{id:"main-properties",disable_pagination:!0,title:'Main properties of the first "blockchain"',authors:"Thomas Zoughebi"},sidebar:"docs",previous:{title:"Introduction",permalink:"/blockchain-basics"},next:{title:"Proof-of-work",permalink:"/blockchain-basics/proof-of-work"}},p=[{value:"Open-Source",id:"open-source",children:[]},{value:"Peer-to-Peer network and shared ledger",id:"peer-to-peer-network-and-shared-ledger",children:[{value:"Chained Data-structure",id:"chained-data-structure",children:[]},{value:"Introduction to Mining",id:"introduction-to-mining",children:[]}]},{value:"Account Unit and Economy Basics",id:"account-unit-and-economy-basics",children:[]},{value:"Consensus: Nakamoto and the Proof-of-Work&#39;s account-units issuance",id:"consensus-nakamoto-and-the-proof-of-works-account-units-issuance",children:[{value:"What is a consensus?",id:"what-is-a-consensus",children:[]},{value:"Agreement on <em>Deflation</em>",id:"agreement-on-deflation",children:[]}]},{value:"What have we learned so far?",id:"what-have-we-learned-so-far",children:[]},{value:"References",id:"references",children:[]}],o={toc:p};function l(e){var a=e.components,m=(0,s.Z)(e,["components"]);return(0,r.kt)("wrapper",(0,n.Z)({},o,m,{components:a,mdxType:"MDXLayout"}),(0,r.kt)("p",null,"In this chapter, we will dig deeper into the main properties of the Bitcoin protocol, its developers, its P2P network, and a few basics of its economic structure."),(0,r.kt)("h2",{id:"open-source"},"Open-Source"),(0,r.kt)("p",null,'Most, if not all, of the public blockchain developments, are made open-source. Anyone can verify the code, correct it, and make proposals. This openness is fundamental in an essentially trustless environment. It is common to hear community members say: "',(0,r.kt)("em",{parentName:"p"},"Don't trust, verify!"),'".'),(0,r.kt)("p",null,'The most committed blockchain developers also go by the catchphrase "',(0,r.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Code_and_Other_Laws_of_Cyberspace"},(0,r.kt)("em",{parentName:"a"},"Code is law")),"\", meaning that the strict code defines not only the validation rules of all the transactions and their interactions but also people's conduct. This code is also used to create the software that runs on the network and how data is recorded, explored, etc."),(0,r.kt)("p",null,"There are different implementations of the Bitcoin protocol on other operating systems and devices. With the possibility to implement in almost every programming language (e.g., ",(0,r.kt)("em",{parentName:"p"},"C++, Python, Java, Go, Scala"),"...)."),(0,r.kt)("p",null,"The original implementation from ",(0,r.kt)("em",{parentName:"p"},"Satoshi Nakamoto")," is in C++ and is called ",(0,r.kt)("a",{parentName:"p",href:"https://bitcoincore.org/"},(0,r.kt)("em",{parentName:"a"},"Bitcoin Core")),". Most of the nodes of the network use this version."),(0,r.kt)("p",null,"The openness of the code, the permissionless access to the network, the free software all bring intoxicating freedom and appeal to the community. Note, however, that this induces a transfer of responsibility to the user. The best intentions do not drive all developers in the community, and many blockchain applications are pure scams. To prevent this, we encourage users to check the sources of applications and the blockchain they use."),(0,r.kt)("h2",{id:"peer-to-peer-network-and-shared-ledger"},"Peer-to-Peer network and shared ledger"),(0,r.kt)("p",null,"Developers have a lot of power, but their code still has to be accepted and used. The Bitcoin P2P network, like most blockchains, has a mesh design spread all over the planet (and space",(0,r.kt)("a",{parentName:"p",href:"/blockchain-basics/main-properties#references"},"[1]"),"). The more nodes enforcing the rules, the more the protocol is distributed and secured."),(0,r.kt)("p",null,"There are different types of nodes, but for the sake of simplicity, let's only quickly describe two categories: ",(0,r.kt)("em",{parentName:"p"},"Full nodes")," and ",(0,r.kt)("em",{parentName:"p"},"Lightweight nodes"),"."),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("em",{parentName:"p"},"Full nodes")," enforce the rules no matter what happens and validate transactions. They ",(0,r.kt)("em",{parentName:"p"},"usually")," ",(0,r.kt)("a",{parentName:"p",href:"/blockchain-basics/main-properties#references"},"[2]")," also record all transactions in a distributed ledger. This ledger is shared by all the full nodes of a network.")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("em",{parentName:"p"},"Lightweight nodes")," are used for devices with limited space capacity, calculating speed, or connectivity (e.g., smartphones, tablets, IoT, etc.). They don't record transactions in the ledger but ask the full nodes for required information."))),(0,r.kt)("p",null,'From now on, "node" refers to a ',(0,r.kt)("em",{parentName:"p"},"full node"),". "),(0,r.kt)("h3",{id:"chained-data-structure"},"Chained Data-structure"),(0,r.kt)("p",null,"The ledger's structure has to be very special to meet the following constraints:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"The ledger is distributed over the planet, and everyone should be able to agree on its state at the same time (minus latency)"),(0,r.kt)("li",{parentName:"ul"},'Transactions are grouped inside packages named "',(0,r.kt)("strong",{parentName:"li"},"blocks"),"\" to ease management. Blocks shouldn't be too small, nor too big, to have smooth and regular transmissions."),(0,r.kt)("li",{parentName:"ul"},"Their history must not be modifiable (immutability)."),(0,r.kt)("li",{parentName:"ul"},"Verifying the history or picking specific information inside the ledger has to be fast (e.g., check a balance)"),(0,r.kt)("li",{parentName:"ul"},'The part of the community validating the blocks (i.e., the "',(0,r.kt)("em",{parentName:"li"},"miners"),"\", as we'll see) must be rewarded in a fair way")),(0,r.kt)("p",null,'The data structure which permits all of the above is a chain of blocks, a.k.a. "blockchain".'),(0,r.kt)("p",null,'Valid transactions are grouped and enclosed inside a block. Every 10 minutes with Bitcoin, a new block must be mined. The number of transactions inside a block is only limited by the available space, which is currently (2021) around 2 MB (comparatively "',(0,r.kt)("em",{parentName:"p"},"Bitcoin Cash"),'" blockchain has around 32 MB block size).'),(0,r.kt)("p",null,"Each new block is linked to the previous one: they are chained. The more blocks there are, the more difficult it is to modify anything in the ledger. They are cryptographically chained. This means that if you want to cheat (e.g., make a double-spend or spend money you don't have), you would need to modify everything from the first block ever created (called the \"",(0,r.kt)("em",{parentName:"p"},"Genesis Block"),'"), just like ',(0,r.kt)("em",{parentName:"p"},"Matryoshka dolls")," with an enormous number of dolls.\nThis process is achieved through a ",(0,r.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Block_cipher_mode_of_operation#Cipher_block_chaining_(CBC)"},"Cipher Block Chaining (CBC)")," principle, where instead of a ",(0,r.kt)("em",{parentName:"p"},"XOR")," function (and without plain texts additions), the ",(0,r.kt)("em",{parentName:"p"},"SHA256")," function is used. Twice:"),(0,r.kt)("p",null,(0,r.kt)("img",{alt:"Chain of blocks",src:t(1581).Z,title:"Chain of blocks"})),(0,r.kt)("p",null,"More on that in the ",(0,r.kt)("a",{parentName:"p",href:"/blockchain-basics/proof-of-work"},"next chapter on Proof-of-Work"),"."),(0,r.kt)("h3",{id:"introduction-to-mining"},"Introduction to Mining"),(0,r.kt)("p",null,"The blocks validators are called the ",(0,r.kt)("strong",{parentName:"p"},"miners"),". They put valid transactions inside a block, and then try to validate that block. When the block is found valid, they get two types of rewards:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"A fee in bitcoins from each transaction that each ",(0,r.kt)("strong",{parentName:"li"},"sender")," chose"),(0,r.kt)("li",{parentName:"ul"},"And a ",(0,r.kt)("strong",{parentName:"li"},"Pre-determined")," quantity of bitcoins for the valid block found (called the ",(0,r.kt)("em",{parentName:"li"},"coinbase"),")")),(0,r.kt)("p",null,"The fees are ",(0,r.kt)("strong",{parentName:"p"},"the sum of the transactions values")," (",(0,r.kt)("span",{parentName:"p",className:"math math-inline"},(0,r.kt)("span",{parentName:"span",className:"katex"},(0,r.kt)("span",{parentName:"span",className:"katex-mathml"},(0,r.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,r.kt)("semantics",{parentName:"math"},(0,r.kt)("mrow",{parentName:"semantics"},(0,r.kt)("msub",{parentName:"mrow"},(0,r.kt)("mi",{parentName:"msub"},"S"),(0,r.kt)("mi",{parentName:"msub"},"v"))),(0,r.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"S_v")))),(0,r.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,r.kt)("span",{parentName:"span",className:"base"},(0,r.kt)("span",{parentName:"span",className:"strut",style:{height:"0.83333em",verticalAlign:"-0.15em"}}),(0,r.kt)("span",{parentName:"span",className:"mord"},(0,r.kt)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.05764em"}},"S"),(0,r.kt)("span",{parentName:"span",className:"msupsub"},(0,r.kt)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,r.kt)("span",{parentName:"span",className:"vlist-r"},(0,r.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.151392em"}},(0,r.kt)("span",{parentName:"span",style:{top:"-2.5500000000000003em",marginLeft:"-0.05764em",marginRight:"0.05em"}},(0,r.kt)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,r.kt)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,r.kt)("span",{parentName:"span",className:"mord mathnormal mtight",style:{marginRight:"0.03588em"}},"v")))),(0,r.kt)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,r.kt)("span",{parentName:"span",className:"vlist-r"},(0,r.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.15em"}},(0,r.kt)("span",{parentName:"span"})))))))))),") minus ",(0,r.kt)("strong",{parentName:"p"},"the sum of the amounts sent")," (",(0,r.kt)("span",{parentName:"p",className:"math math-inline"},(0,r.kt)("span",{parentName:"span",className:"katex"},(0,r.kt)("span",{parentName:"span",className:"katex-mathml"},(0,r.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,r.kt)("semantics",{parentName:"math"},(0,r.kt)("mrow",{parentName:"semantics"},(0,r.kt)("msub",{parentName:"mrow"},(0,r.kt)("mi",{parentName:"msub"},"S"),(0,r.kt)("mi",{parentName:"msub"},"a"))),(0,r.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"S_a")))),(0,r.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,r.kt)("span",{parentName:"span",className:"base"},(0,r.kt)("span",{parentName:"span",className:"strut",style:{height:"0.83333em",verticalAlign:"-0.15em"}}),(0,r.kt)("span",{parentName:"span",className:"mord"},(0,r.kt)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.05764em"}},"S"),(0,r.kt)("span",{parentName:"span",className:"msupsub"},(0,r.kt)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,r.kt)("span",{parentName:"span",className:"vlist-r"},(0,r.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.151392em"}},(0,r.kt)("span",{parentName:"span",style:{top:"-2.5500000000000003em",marginLeft:"-0.05764em",marginRight:"0.05em"}},(0,r.kt)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,r.kt)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,r.kt)("span",{parentName:"span",className:"mord mathnormal mtight"},"a")))),(0,r.kt)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,r.kt)("span",{parentName:"span",className:"vlist-r"},(0,r.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.15em"}},(0,r.kt)("span",{parentName:"span"})))))))))),")."),(0,r.kt)("p",null,"For ",(0,r.kt)("span",{parentName:"p",className:"math math-inline"},(0,r.kt)("span",{parentName:"span",className:"katex"},(0,r.kt)("span",{parentName:"span",className:"katex-mathml"},(0,r.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,r.kt)("semantics",{parentName:"math"},(0,r.kt)("mrow",{parentName:"semantics"},(0,r.kt)("mi",{parentName:"mrow"},"T")),(0,r.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"T")))),(0,r.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,r.kt)("span",{parentName:"span",className:"base"},(0,r.kt)("span",{parentName:"span",className:"strut",style:{height:"0.68333em",verticalAlign:"0em"}}),(0,r.kt)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.13889em"}},"T")))))," ",(0,r.kt)("em",{parentName:"p"},"transactions")," in a block, let ",(0,r.kt)("span",{parentName:"p",className:"math math-inline"},(0,r.kt)("span",{parentName:"span",className:"katex"},(0,r.kt)("span",{parentName:"span",className:"katex-mathml"},(0,r.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,r.kt)("semantics",{parentName:"math"},(0,r.kt)("mrow",{parentName:"semantics"},(0,r.kt)("mi",{parentName:"mrow"},"v")),(0,r.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"v")))),(0,r.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,r.kt)("span",{parentName:"span",className:"base"},(0,r.kt)("span",{parentName:"span",className:"strut",style:{height:"0.43056em",verticalAlign:"0em"}}),(0,r.kt)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.03588em"}},"v")))))," be a transaction ",(0,r.kt)("em",{parentName:"p"},"value"),", and ",(0,r.kt)("span",{parentName:"p",className:"math math-inline"},(0,r.kt)("span",{parentName:"span",className:"katex"},(0,r.kt)("span",{parentName:"span",className:"katex-mathml"},(0,r.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML"},(0,r.kt)("semantics",{parentName:"math"},(0,r.kt)("mrow",{parentName:"semantics"},(0,r.kt)("mi",{parentName:"mrow"},"a")),(0,r.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"a")))),(0,r.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,r.kt)("span",{parentName:"span",className:"base"},(0,r.kt)("span",{parentName:"span",className:"strut",style:{height:"0.43056em",verticalAlign:"0em"}}),(0,r.kt)("span",{parentName:"span",className:"mord mathnormal"},"a")))))," be the ",(0,r.kt)("em",{parentName:"p"},"amount")," really sent:"),(0,r.kt)("div",{className:"math math-display"},(0,r.kt)("span",{parentName:"div",className:"katex-display"},(0,r.kt)("span",{parentName:"span",className:"katex"},(0,r.kt)("span",{parentName:"span",className:"katex-mathml"},(0,r.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},(0,r.kt)("semantics",{parentName:"math"},(0,r.kt)("mrow",{parentName:"semantics"},(0,r.kt)("mtext",{parentName:"mrow"},"Fees"),(0,r.kt)("mo",{parentName:"mrow"},"="),(0,r.kt)("munderover",{parentName:"mrow"},(0,r.kt)("mo",{parentName:"munderover"},"\u2211"),(0,r.kt)("mrow",{parentName:"munderover"},(0,r.kt)("mi",{parentName:"mrow"},"i"),(0,r.kt)("mo",{parentName:"mrow"},"="),(0,r.kt)("mn",{parentName:"mrow"},"1")),(0,r.kt)("mi",{parentName:"munderover"},"T")),(0,r.kt)("msub",{parentName:"mrow"},(0,r.kt)("mi",{parentName:"msub"},"v"),(0,r.kt)("mi",{parentName:"msub"},"i")),(0,r.kt)("mo",{parentName:"mrow"},"\u2212"),(0,r.kt)("munderover",{parentName:"mrow"},(0,r.kt)("mo",{parentName:"munderover"},"\u2211"),(0,r.kt)("mrow",{parentName:"munderover"},(0,r.kt)("mi",{parentName:"mrow"},"i"),(0,r.kt)("mo",{parentName:"mrow"},"="),(0,r.kt)("mn",{parentName:"mrow"},"1")),(0,r.kt)("mi",{parentName:"munderover"},"T")),(0,r.kt)("msub",{parentName:"mrow"},(0,r.kt)("mi",{parentName:"msub"},"a"),(0,r.kt)("mi",{parentName:"msub"},"i"))),(0,r.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\text{Fees} = \\sum_{i=1}^{T} v_i - \\sum_{i=1}^{T} a_i")))),(0,r.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,r.kt)("span",{parentName:"span",className:"base"},(0,r.kt)("span",{parentName:"span",className:"strut",style:{height:"0.68333em",verticalAlign:"0em"}}),(0,r.kt)("span",{parentName:"span",className:"mord text"},(0,r.kt)("span",{parentName:"span",className:"mord"},"Fees")),(0,r.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2777777777777778em"}}),(0,r.kt)("span",{parentName:"span",className:"mrel"},"="),(0,r.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2777777777777778em"}})),(0,r.kt)("span",{parentName:"span",className:"base"},(0,r.kt)("span",{parentName:"span",className:"strut",style:{height:"3.106005em",verticalAlign:"-1.277669em"}}),(0,r.kt)("span",{parentName:"span",className:"mop op-limits"},(0,r.kt)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,r.kt)("span",{parentName:"span",className:"vlist-r"},(0,r.kt)("span",{parentName:"span",className:"vlist",style:{height:"1.8283360000000002em"}},(0,r.kt)("span",{parentName:"span",style:{top:"-1.872331em",marginLeft:"0em"}},(0,r.kt)("span",{parentName:"span",className:"pstrut",style:{height:"3.05em"}}),(0,r.kt)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,r.kt)("span",{parentName:"span",className:"mord mtight"},(0,r.kt)("span",{parentName:"span",className:"mord mathnormal mtight"},"i"),(0,r.kt)("span",{parentName:"span",className:"mrel mtight"},"="),(0,r.kt)("span",{parentName:"span",className:"mord mtight"},"1")))),(0,r.kt)("span",{parentName:"span",style:{top:"-3.050005em"}},(0,r.kt)("span",{parentName:"span",className:"pstrut",style:{height:"3.05em"}}),(0,r.kt)("span",{parentName:"span"},(0,r.kt)("span",{parentName:"span",className:"mop op-symbol large-op"},"\u2211"))),(0,r.kt)("span",{parentName:"span",style:{top:"-4.3000050000000005em",marginLeft:"0em"}},(0,r.kt)("span",{parentName:"span",className:"pstrut",style:{height:"3.05em"}}),(0,r.kt)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,r.kt)("span",{parentName:"span",className:"mord mtight"},(0,r.kt)("span",{parentName:"span",className:"mord mathnormal mtight",style:{marginRight:"0.13889em"}},"T"))))),(0,r.kt)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,r.kt)("span",{parentName:"span",className:"vlist-r"},(0,r.kt)("span",{parentName:"span",className:"vlist",style:{height:"1.277669em"}},(0,r.kt)("span",{parentName:"span"}))))),(0,r.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.16666666666666666em"}}),(0,r.kt)("span",{parentName:"span",className:"mord"},(0,r.kt)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.03588em"}},"v"),(0,r.kt)("span",{parentName:"span",className:"msupsub"},(0,r.kt)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,r.kt)("span",{parentName:"span",className:"vlist-r"},(0,r.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.31166399999999994em"}},(0,r.kt)("span",{parentName:"span",style:{top:"-2.5500000000000003em",marginLeft:"-0.03588em",marginRight:"0.05em"}},(0,r.kt)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,r.kt)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,r.kt)("span",{parentName:"span",className:"mord mathnormal mtight"},"i")))),(0,r.kt)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,r.kt)("span",{parentName:"span",className:"vlist-r"},(0,r.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.15em"}},(0,r.kt)("span",{parentName:"span"})))))),(0,r.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2222222222222222em"}}),(0,r.kt)("span",{parentName:"span",className:"mbin"},"\u2212"),(0,r.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2222222222222222em"}})),(0,r.kt)("span",{parentName:"span",className:"base"},(0,r.kt)("span",{parentName:"span",className:"strut",style:{height:"3.106005em",verticalAlign:"-1.277669em"}}),(0,r.kt)("span",{parentName:"span",className:"mop op-limits"},(0,r.kt)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,r.kt)("span",{parentName:"span",className:"vlist-r"},(0,r.kt)("span",{parentName:"span",className:"vlist",style:{height:"1.8283360000000002em"}},(0,r.kt)("span",{parentName:"span",style:{top:"-1.872331em",marginLeft:"0em"}},(0,r.kt)("span",{parentName:"span",className:"pstrut",style:{height:"3.05em"}}),(0,r.kt)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,r.kt)("span",{parentName:"span",className:"mord mtight"},(0,r.kt)("span",{parentName:"span",className:"mord mathnormal mtight"},"i"),(0,r.kt)("span",{parentName:"span",className:"mrel mtight"},"="),(0,r.kt)("span",{parentName:"span",className:"mord mtight"},"1")))),(0,r.kt)("span",{parentName:"span",style:{top:"-3.050005em"}},(0,r.kt)("span",{parentName:"span",className:"pstrut",style:{height:"3.05em"}}),(0,r.kt)("span",{parentName:"span"},(0,r.kt)("span",{parentName:"span",className:"mop op-symbol large-op"},"\u2211"))),(0,r.kt)("span",{parentName:"span",style:{top:"-4.3000050000000005em",marginLeft:"0em"}},(0,r.kt)("span",{parentName:"span",className:"pstrut",style:{height:"3.05em"}}),(0,r.kt)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,r.kt)("span",{parentName:"span",className:"mord mtight"},(0,r.kt)("span",{parentName:"span",className:"mord mathnormal mtight",style:{marginRight:"0.13889em"}},"T"))))),(0,r.kt)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,r.kt)("span",{parentName:"span",className:"vlist-r"},(0,r.kt)("span",{parentName:"span",className:"vlist",style:{height:"1.277669em"}},(0,r.kt)("span",{parentName:"span"}))))),(0,r.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.16666666666666666em"}}),(0,r.kt)("span",{parentName:"span",className:"mord"},(0,r.kt)("span",{parentName:"span",className:"mord mathnormal"},"a"),(0,r.kt)("span",{parentName:"span",className:"msupsub"},(0,r.kt)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,r.kt)("span",{parentName:"span",className:"vlist-r"},(0,r.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.31166399999999994em"}},(0,r.kt)("span",{parentName:"span",style:{top:"-2.5500000000000003em",marginLeft:"0em",marginRight:"0.05em"}},(0,r.kt)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,r.kt)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,r.kt)("span",{parentName:"span",className:"mord mathnormal mtight"},"i")))),(0,r.kt)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,r.kt)("span",{parentName:"span",className:"vlist-r"},(0,r.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.15em"}},(0,r.kt)("span",{parentName:"span"}))))))))))),(0,r.kt)("p",null,"Or more simply:"),(0,r.kt)("div",{className:"math math-display"},(0,r.kt)("span",{parentName:"div",className:"katex-display"},(0,r.kt)("span",{parentName:"span",className:"katex"},(0,r.kt)("span",{parentName:"span",className:"katex-mathml"},(0,r.kt)("math",{parentName:"span",xmlns:"http://www.w3.org/1998/Math/MathML",display:"block"},(0,r.kt)("semantics",{parentName:"math"},(0,r.kt)("mrow",{parentName:"semantics"},(0,r.kt)("mtext",{parentName:"mrow"},"Fees"),(0,r.kt)("mo",{parentName:"mrow"},"="),(0,r.kt)("msub",{parentName:"mrow"},(0,r.kt)("mi",{parentName:"msub"},"S"),(0,r.kt)("mi",{parentName:"msub"},"v")),(0,r.kt)("mo",{parentName:"mrow"},"\u2212"),(0,r.kt)("msub",{parentName:"mrow"},(0,r.kt)("mi",{parentName:"msub"},"S"),(0,r.kt)("mi",{parentName:"msub"},"a"))),(0,r.kt)("annotation",{parentName:"semantics",encoding:"application/x-tex"},"\\text{Fees} = S_v - S_a")))),(0,r.kt)("span",{parentName:"span",className:"katex-html","aria-hidden":"true"},(0,r.kt)("span",{parentName:"span",className:"base"},(0,r.kt)("span",{parentName:"span",className:"strut",style:{height:"0.68333em",verticalAlign:"0em"}}),(0,r.kt)("span",{parentName:"span",className:"mord text"},(0,r.kt)("span",{parentName:"span",className:"mord"},"Fees")),(0,r.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2777777777777778em"}}),(0,r.kt)("span",{parentName:"span",className:"mrel"},"="),(0,r.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2777777777777778em"}})),(0,r.kt)("span",{parentName:"span",className:"base"},(0,r.kt)("span",{parentName:"span",className:"strut",style:{height:"0.83333em",verticalAlign:"-0.15em"}}),(0,r.kt)("span",{parentName:"span",className:"mord"},(0,r.kt)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.05764em"}},"S"),(0,r.kt)("span",{parentName:"span",className:"msupsub"},(0,r.kt)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,r.kt)("span",{parentName:"span",className:"vlist-r"},(0,r.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.151392em"}},(0,r.kt)("span",{parentName:"span",style:{top:"-2.5500000000000003em",marginLeft:"-0.05764em",marginRight:"0.05em"}},(0,r.kt)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,r.kt)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,r.kt)("span",{parentName:"span",className:"mord mathnormal mtight",style:{marginRight:"0.03588em"}},"v")))),(0,r.kt)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,r.kt)("span",{parentName:"span",className:"vlist-r"},(0,r.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.15em"}},(0,r.kt)("span",{parentName:"span"})))))),(0,r.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2222222222222222em"}}),(0,r.kt)("span",{parentName:"span",className:"mbin"},"\u2212"),(0,r.kt)("span",{parentName:"span",className:"mspace",style:{marginRight:"0.2222222222222222em"}})),(0,r.kt)("span",{parentName:"span",className:"base"},(0,r.kt)("span",{parentName:"span",className:"strut",style:{height:"0.83333em",verticalAlign:"-0.15em"}}),(0,r.kt)("span",{parentName:"span",className:"mord"},(0,r.kt)("span",{parentName:"span",className:"mord mathnormal",style:{marginRight:"0.05764em"}},"S"),(0,r.kt)("span",{parentName:"span",className:"msupsub"},(0,r.kt)("span",{parentName:"span",className:"vlist-t vlist-t2"},(0,r.kt)("span",{parentName:"span",className:"vlist-r"},(0,r.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.151392em"}},(0,r.kt)("span",{parentName:"span",style:{top:"-2.5500000000000003em",marginLeft:"-0.05764em",marginRight:"0.05em"}},(0,r.kt)("span",{parentName:"span",className:"pstrut",style:{height:"2.7em"}}),(0,r.kt)("span",{parentName:"span",className:"sizing reset-size6 size3 mtight"},(0,r.kt)("span",{parentName:"span",className:"mord mathnormal mtight"},"a")))),(0,r.kt)("span",{parentName:"span",className:"vlist-s"},"\u200b")),(0,r.kt)("span",{parentName:"span",className:"vlist-r"},(0,r.kt)("span",{parentName:"span",className:"vlist",style:{height:"0.15em"}},(0,r.kt)("span",{parentName:"span"}))))))))))),(0,r.kt)("p",null,"Senders choose the fee they want to pay. The more they give, the faster the transaction is included in a block. As block size is limited, miners promote transactions with the highest fees. A transaction could have zero fee, but it would take months or years until a miner decided to include it in a block (if ever). "),(0,r.kt)("p",null,'The block reward is sent through a particular transaction called a "',(0,r.kt)("em",{parentName:"p"},"Coinbase Transaction"),'" directly to the miner. It\'s always the first transaction of a validated ("',(0,r.kt)("em",{parentName:"p"},"mined"),'") block.'),(0,r.kt)("p",null,'To get these two rewards, a miner basically plays a lottery, a game of chance. This game is to find a binary number lesser than a target (called "',(0,r.kt)("em",{parentName:"p"},"Target"),'") with the specific hash function ',(0,r.kt)("em",{parentName:"p"},"SHA256"),". The fact is a miner can't guess in advance the result of this function. He ",(0,r.kt)("strong",{parentName:"p"},"must")," try values (by ",(0,r.kt)("a",{parentName:"p",href:"https://en.wikipedia.org/wiki/Brute-force_attack"},(0,r.kt)("em",{parentName:"a"},"Brute Force")),"). He must ",(0,r.kt)("em",{parentName:"p"},"hash")," the previous block header (twice) with a random number called the ",(0,r.kt)("em",{parentName:"p"},"nounce"),"."),(0,r.kt)("p",null,"The more a miner tries values (the more he has lottery tickets), and the more energy he uses to make his computers work."),(0,r.kt)("p",null,"When a miner finds a valid number, he finally finds a valid block. His node tells the network its discovery with the final ",(0,r.kt)("em",{parentName:"p"},"nounce")," (so anyone can verify it)."),(0,r.kt)("p",null,'If two miners find a valid number simultaneously (within lag and network propagation delays), then two valid blocks are possible. Miners are then split into two groups: those mining from the block of the first miner and those mining from the block of the second miner. If someone finds a block following the second miner\'s block, then both of them become the "winners" as they form "the longest chain" (actually, the chain with ',(0,r.kt)("em",{parentName:"p"},"the most work"),") ",(0,r.kt)("a",{parentName:"p",href:"/blockchain-basics/main-properties#references"},"[3]"),"."),(0,r.kt)("p",null,"More details on that in the ",(0,r.kt)("a",{parentName:"p",href:"/blockchain-basics/proof-of-work"},"next chapter on Proof-of-Work"),"."),(0,r.kt)("h2",{id:"account-unit-and-economy-basics"},"Account Unit and Economy Basics"),(0,r.kt)("p",null,"Miners use their computational power and electricity to mine. That's why they are rewarded for it. The rewards are in the account unit. Bitcoin uses bitcoins, while Ethereum uses ethers."),(0,r.kt)("p",null,"To get these rewards, they must ",(0,r.kt)("em",{parentName:"p"},"work"),", and then ",(0,r.kt)("em",{parentName:"p"},"proove they worked"),". In Bitcoin, they work by using up electricity. So to make this activity profitable, miners have to find efficient calculators and low-cost electricity."),(0,r.kt)("p",null,"Over time, miners have grouped to use more and more powerful machines together as more people began this activity. This increases the number of attempts (the number of lottery tickets) of the global network to find a valid block. Because the function used for that is a ",(0,r.kt)("strong",{parentName:"p"},"hash")," function (",(0,r.kt)("em",{parentName:"p"},"SHA256"),'), this network efficiency is called "',(0,r.kt)("strong",{parentName:"p"},"hashing power"),'".'),(0,r.kt)("p",null,"While the network gains more hashing power, constraints stay the same. Each block still has to appear around every 10 minutes. To maintain this and adapt, the protocol calculates the ",(0,r.kt)("em",{parentName:"p"},"Difficulty"),". If the hashing power is too high, the ",(0,r.kt)("em",{parentName:"p"},"Difficulty")," increases. If the hashing power is too low, the ",(0,r.kt)("em",{parentName:"p"},"Difficulty")," decreases."),(0,r.kt)("p",null,"The ",(0,r.kt)("em",{parentName:"p"},"Difficulty")," modifies the binary ",(0,r.kt)("em",{parentName:"p"},"Target"),". To increase the difficulty, the ",(0,r.kt)("em",{parentName:"p"},"Target")," becomes smaller and smaller. This means the leading zeros of this binary number are more and more."),(0,r.kt)("p",null,"The ",(0,r.kt)("em",{parentName:"p"},"Difficulty")," is calculated every 2016 blocks (~2 weeks)."),(0,r.kt)("p",null,"Economically, it is more and more challenging to get rewards. A sign that more and more people are trying to find bitcoins, so the ",(0,r.kt)("em",{parentName:"p"},"demand")," increases."),(0,r.kt)("p",null,"Bitcoin's value relies on the simple free market of ",(0,r.kt)("em",{parentName:"p"},"supply")," and ",(0,r.kt)("em",{parentName:"p"},"demand"),". But its model is intrinsically ",(0,r.kt)("strong",{parentName:"p"},"deflationary"),". The more bitcoins are hard to get, the higher their price. The rarest they are, the hardest they are to find. And vice versa."),(0,r.kt)("p",null,"The total ",(0,r.kt)("em",{parentName:"p"},"theoric")," limited ",(0,r.kt)("em",{parentName:"p"},"supply")," of bitcoins is pre-determined and hardcoded in the protocol at 21 million ",(0,r.kt)("a",{parentName:"p",href:"/blockchain-basics/main-properties#references"},"[4]"),"."),(0,r.kt)("h2",{id:"consensus-nakamoto-and-the-proof-of-works-account-units-issuance"},"Consensus: Nakamoto and the Proof-of-Work's account-units issuance"),(0,r.kt)("h3",{id:"what-is-a-consensus"},"What is a consensus?"),(0,r.kt)("p",null,'"',(0,r.kt)("strong",{parentName:"p"},"Consensus"),'" comes from Latin ',(0,r.kt)("em",{parentName:"p"},"c\u014dns\u0113nsus"),' ("agreement, accordance, unanimity").',(0,r.kt)("br",{parentName:"p"}),"\n","It is the point where independent actors reach a common agreement on a decision.  "),(0,r.kt)("p",null,"In IT, a consensus algorithm is a computer program allowing users to reach common agreements on the states of data in a distributed network.",(0,r.kt)("br",{parentName:"p"}),"\n",(0,r.kt)("em",{parentName:"p"},"Examples"),": Distributed Calculation, Distributed Database, etc."),(0,r.kt)("h3",{id:"agreement-on-deflation"},"Agreement on ",(0,r.kt)("em",{parentName:"h3"},"Deflation")),(0,r.kt)("p",null,"Relying only on supply and demand, Bitcoin wouldn't be deflationary."),(0,r.kt)("p",null,"Another rule is coded in the Bitcoin protocol that increases the scarcity of bitcoins. Its name is the ",(0,r.kt)("em",{parentName:"p"},"Halving"),". Every 210,000 blocks (~4 years), the block reward is simply cut in half."),(0,r.kt)("p",null,"At the very beginning (2008 / 2009), the block reward was 50 bitcoins. These days (2021), the reward is 6.25 bitcoins and will stay the same until 2024",(0,r.kt)("a",{parentName:"p",href:"/blockchain-basics/main-properties#references"},"[5]"),"."),(0,r.kt)("p",null,"Block reward is how the currency's issuance is produced. So the ",(0,r.kt)("em",{parentName:"p"},"Halving"),' has a strong economic impact. Usually, this event leads to a phase of increasing price, namely "Bull Market"',(0,r.kt)("a",{parentName:"p",href:"/blockchain-basics/main-properties#references"},"[5]"),". It's worth noting that it is also an event that federates the community, the adoption, and in return, makes the network stronger, and the price higher",(0,r.kt)("a",{parentName:"p",href:"/blockchain-basics/main-properties#references"},"[6]"),"."),(0,r.kt)("p",null,"The numbers chosen by Satoshi Nakamoto for the total supply and the ",(0,r.kt)("em",{parentName:"p"},"Halving")," are inspired by ",(0,r.kt)("em",{parentName:"p"},"gold mining"),'. The more you dig to find gold, the less there is, and the harder it is to dig. That\'s precisely why the blocks validators are called the "Miners".'),(0,r.kt)("p",null,"The ",(0,r.kt)("em",{parentName:"p"},"Nakamoto Consensus"),", which Bitcoin is based on, is driven by:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Decentralization"),(0,r.kt)("li",{parentName:"ul"},"Proof-of-Work"),(0,r.kt)("li",{parentName:"ul"},"A probabilistic solution to the Byzantine General Problem"),(0,r.kt)("li",{parentName:"ul"},"The ",(0,r.kt)("em",{parentName:"li"},"MAD")," property (defined below)")),(0,r.kt)("p",null,'In the Bitcoin mesh network, the rewards make it possible to support up to 50% of bad actors (1/2). The network uses "Byzantine Fault Tolerant" (BFT). Probabilistically, Bitcoin\'s solution is more efficient than the main mathematical solution: The actual main solution requires less than one-third of bad actors.'),(0,r.kt)("p",null,"The ",(0,r.kt)("em",{parentName:"p"},(0,r.kt)("strong",{parentName:"em"},"M"),"utual ",(0,r.kt)("strong",{parentName:"em"},"A"),"ssured ",(0,r.kt)("strong",{parentName:"em"},"D"),"estruction")," (",(0,r.kt)("strong",{parentName:"p"},(0,r.kt)("em",{parentName:"strong"},"MAD")),") property reinforce this BFT solution:  "),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"It is more profitable to earn bitcoins by participating in the protocol than to attack it. If you want to attack it, you'd have to invest an unreasonable amount of resources. Even in the improbable case that your attack is successful, you'd still lose money on your investment...")),(0,r.kt)("p",null,"You would also face the community, which can detect the attack and adapt."),(0,r.kt)("h2",{id:"what-have-we-learned-so-far"},"What have we learned so far?"),(0,r.kt)("p",null,"This chapter described some of the pillars of the Bitcoin protocol and how they are articulated around the Nakamoto Consensus. You now understand that the Nakamoto Consensus integrates the Proof-of-Work consensus algorithm and a form of ",(0,r.kt)("em",{parentName:"p"},"social")," consensus based on simple Economy principles."),(0,r.kt)("p",null,"In the next chapter, we'll dig into the Proof-of-Work consensus to understand how it works in details."),(0,r.kt)("h2",{id:"references"},"References"),(0,r.kt)("p",null,"[1]"," ",(0,r.kt)("a",{parentName:"p",href:"https://blockstream.com/satellite/"},"https://blockstream.com/satellite/")),(0,r.kt)("p",null,"[2]"," ",(0,r.kt)("a",{parentName:"p",href:"https://bitcoin.org/en/release/v0.12.0#wallet-pruning"},"https://bitcoin.org/en/release/v0.12.0#wallet-pruning")),(0,r.kt)("p",null,"[3]"," ",(0,r.kt)("a",{parentName:"p",href:"https://learnmeabitcoin.com/technical/longest-chain"},"https://learnmeabitcoin.com/technical/longest-chain")),(0,r.kt)("p",null,"[4]"," More precisely 20,999,999,9769: ",(0,r.kt)("a",{parentName:"p",href:"https://en.bitcoin.it/wiki/Controlled_supply"},"https://en.bitcoin.it/wiki/Controlled_supply")),(0,r.kt)("p",null,"[5]"," ",(0,r.kt)("a",{parentName:"p",href:"http://bitcoinhalvingdates.com/"},"http://bitcoinhalvingdates.com/")),(0,r.kt)("p",null,"[6]"," ",(0,r.kt)("a",{parentName:"p",href:"https://www.bitcoinhalving.com/"},"https://www.bitcoinhalving.com/")))}l.isMDXComponent=!0},1581:function(e,a,t){"use strict";a.Z=t.p+"assets/images/blocks-chain-3bf50b4e722e47a9c74bbaa58601e2b0.svg"}}]);