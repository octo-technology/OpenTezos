<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.0">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="OpenTezos Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="OpenTezos Blog Atom Feed">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css" integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X" crossorigin="anonymous"><title data-react-helmet="true">Language Basics | OpenTezos</title><meta data-react-helmet="true" property="og:url" content="https://opentezos.com/michelson/language-basics"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Language Basics | OpenTezos"><meta data-react-helmet="true" name="description" content="OLD page - not to be displayed (this section has been merged in smart contract page)"><meta data-react-helmet="true" property="og:description" content="OLD page - not to be displayed (this section has been merged in smart contract page)"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://opentezos.com/michelson/language-basics"><link data-react-helmet="true" rel="alternate" href="https://opentezos.com/michelson/language-basics" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://opentezos.com/michelson/language-basics" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.60c2ec83.css">
<link rel="preload" href="/assets/js/runtime~main.972b4ff9.js" as="script">
<link rel="preload" href="/assets/js/main.6ca66676.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#main" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle" type="button" tabindex="0"><svg aria-label="Menu" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="OpenTezos" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo-dark.svg" alt="OpenTezos" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/octo-technology/OpenTezos/" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub</a><div class="react-toggle displayOnlyInLargeViewport_GrZ2 react-toggle--disabled" role="button" tabindex="-1"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_71bT" style="margin-left:2px">üåô</span></div><div class="react-toggle-track-x"><span class="toggle_71bT" style="margin-left:1px">‚òÄÔ∏è</span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo.svg" alt="OpenTezos" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo-dark.svg" alt="OpenTezos" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a href="https://github.com/octo-technology/OpenTezos/" target="_blank" rel="noopener noreferrer" class="menu__link">GitHub</a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><main class="docMainContainer_3ufF docMainContainerEnhanced_3NYZ"><div class="container padding-vert--lg docItemWrapper_3FMP"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><header><h1 class="docTitle_3a4h">Language Basics</h1></header><div class="markdown"><p>OLD page - not to be displayed (this section has been merged in smart contract page)</p><p>The Michelson language is the reference language for Tezos smart contracts. It is a low-level <strong>stack-based</strong> language and is also a <strong>Turing-complete</strong> language. This means it has basic operations allowing to read/write/compare values in-memory, has infinite memory, and allows conditional operators (e.g. <em>if</em>, <em>switch</em> instructions)</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="smart-contract"></a>Smart contract<a class="hash-link" href="#smart-contract" title="Direct link to heading">#</a></h2><p>The main goal of the Michelson language is to model smart contracts, i.e. to model complex data structures and to design complex processes on these data. Once a smart contract is deployed on the Tezos network, it can be invoked and trigger modifications of the data of the smart contract. </p><p>A persistent memory space (called <strong>storage</strong>) is associated with a Tezos smart contract and holds the data of the smart contract. This storage is stored on the blockchain.</p><p>A smart contract must provide a list of invocable functions in the smart contract (called <strong>entrypoints</strong>) and instructions (that modifies the storage) for each entrypoint.</p><p>These concepts of <em>storage</em> and <em>entrypoint</em> are described in the &quot;Smart contract&quot; section.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="gas-model"></a>Gas model<a class="hash-link" href="#gas-model" title="Direct link to heading">#</a></h2><p>A cost in &quot;gas&quot; (i.e. the money that must be paid in order to execute the instructions) is associated with the execution of a Michelson instruction. This &quot;gas&quot; modelling prevents the execution from creating an infinite loop. </p><p>It also represents and rewards the work that bakers have to endure to validate a transaction.</p><p>Adding more memory space to the storage of a smart contract also has a cost (for each allocated byte).</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="static-typing"></a>Static typing<a class="hash-link" href="#static-typing" title="Direct link to heading">#</a></h2><p>The Michelson language is a strongly typed language. It means that all data inserted into the stack must be typed and operators manipulating these data must respect the typing rules.</p><p>The Michelson language introduces primitive types for modelling data and composite types allowing for complex data structure definitions. It also introduces very specific types for smart contract modelling.</p><p>The Michelson language provides basic type support on numbers, sequence of characters, logical expressions, and timestamps:</p><ul><li><code>nat</code> represents a natural integer (e.g. 0, 3, 15)</li><li><code>int</code> represents a integer (e.g. -10, 2, 3)</li><li><code>string</code> represents a sequence of characters (e.g. &quot;Hello&quot;)</li><li><code>bool</code> represents a boolean value (e.g. True, False)</li><li><code>bytes</code> represents a sequence of bytes (octet)</li><li><code>unit</code> represents a non-specified type.</li><li><code>timestamp</code> represents a duration (e.g. NOW, 1571659294, &quot;2019-09-26T10:59:51Z&quot;; i.e. a string following the RFC3339 standard)</li></ul><p>Michelson also provides composite types for grouping properties:</p><ul><li><code>set</code> represents an unordered collection of elements. It preserves the uniqueness of elements inside the collection (e.g. { 2; 4; 5; 7})</li><li><code>list</code> represents an ordered collection of elements of the same type (e.g. { 2; 4; 5; 3; 5 })</li><li><code>map</code> represents an associative array formed of key-value elements (e.g. { Elt &quot;Hello&quot; 1 }) </li><li><code>big_map</code> is another representation of an associative array but can handle larger amounts of data</li><li><code>pair</code> represents a tuple of two elements (e.g. Pair &quot;World&quot; 1).</li><li><code>option</code> is a predefined variant type that is used to express whether there is a value of some type or <em>none</em>.</li><li><code>or</code> is a variant type that can handle elements of different types.</li></ul><p>Michelson also provides specific types for smart contract modelling:</p><ul><li><code>address</code> represents an identifier for a user account or a deployed smart contract (e.g. &quot;tz1faswCTDciRzE4oJ9jn2Vm2dvjeyA9fUzU&quot;)</li><li><code>mutez</code> represents the smallest quantity of the Tezos crypto-currency (1 tez = 1,000,000 mutez)</li><li><code>key</code> is a byte sequence representing a public key (e.g. &quot;edpkuBknW28nW72KG6RoH...&quot; )</li><li><code>key_hash</code> represents a hashed key using a standard hashing function such as SHA512 (e.g. &quot;tz1KqTpEZ7Yob7QbPE4Hy...&quot;; i.e. a string in base58 encoded form)</li><li><code>signature</code> is a byte sequence representing a message signed by a public key (e.g. &quot;spsig1PPUFZucuAQybs5w...)</li><li><code>chain_id</code> represents the network identifer (e.g. 0x7a06a770, &quot;NetXynUjJNZm7wi&quot;)</li><li><code>operation</code> represents a transaction</li><li><code>contract</code> represents a contract interface used for contract interaction</li></ul><p>The usage of these types is illustrated in the &quot;Tutorial&quot; and &quot;Instructions&quot; sections.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="atomic-computation"></a>Atomic computation<a class="hash-link" href="#atomic-computation" title="Direct link to heading">#</a></h2><p>The Michelson language provides basic operations on these types:  </p><ul><li>numbers: addition, subtraction, multiplication, euclidean division, comparison</li><li>string: split, concatenation, comparison</li><li>crypto: standard hash function</li><li>collection: standard collection manipulation (create, insert, remove, access, modification) </li><li>currency: standard operations on XTZ crypto-currency</li><li>smart contract: contract interactions, transfer, invocation of smart contracts, delegation</li></ul><p>A description of some of these operators is provided in the &quot;Tutorial&quot; section.</p><p>An exhaustive list of instructions for each type is described in the &quot;Instructions&quot; section.</p><p>These instructions introduce basic programming concepts such as:</p><ul><li>conditional branching: The<code>IF</code> instruction family.</li><li>repetitive processing: <code>LOOP</code>, <code>ITER</code>, <code>MAP</code> instructions.</li><li>&quot;Lambda&quot; functions: <code>LAMBDA</code> instruction.</li><li>structuring data: <code>PAIR</code>, <code>UNPAIR</code>, <code>CAR</code>, <code>CDR</code>, <code>LEFT</code>, <code>RIGHT</code> instructions, and <code>list</code>, <code>map</code>, <code>set</code> composite types.</li><li>contract communication: <code>CONTRACT</code>, <code>TRANSFER_TOKENS</code> instructions. </li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="explicit-failure"></a>Explicit failure<a class="hash-link" href="#explicit-failure" title="Direct link to heading">#</a></h2><p>When invoking a smart contract, the execution of the sequence of instructions may finish. In this case, the transaction is considered finalized. If the execution of the sequence of instructions stops before the end, the transaction is considered to be rejected. The following sections will introduce the Michelson instruction<code>FAIL</code> which is responsible for throwing an error (for stopping the execution).</p></div></article><div class="margin-vert--xl"><div class="row"><div class="col"><a href="https://github.com/octo-technology/OpenTezos/tree/main/docs/michelson/language-basics.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="1.2em" width="1.2em" preserveAspectRatio="xMidYMid meet" role="img" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-label="Edit page"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col text--right"><em><small>Last updated on <time datetime="2021-05-20T09:25:53.000Z" class="lastUpdatedDate_1WI_">5/20/2021</time> by <strong>Frank Hillard</strong></small></em></div></div></div><div class="margin-vert--lg"><nav class="pagination-nav" aria-label="Docs pages navigation"><div class="pagination-nav__item"></div><div class="pagination-nav__item pagination-nav__item--next"></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#smart-contract" class="table-of-contents__link">Smart contract</a></li><li><a href="#gas-model" class="table-of-contents__link">Gas model</a></li><li><a href="#static-typing" class="table-of-contents__link">Static typing</a></li><li><a href="#atomic-computation" class="table-of-contents__link">Atomic computation</a></li><li><a href="#explicit-failure" class="table-of-contents__link">Explicit failure</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright ¬© 2021 OpenTezos.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.972b4ff9.js"></script>
<script src="/assets/js/main.6ca66676.js"></script>
</body>
</html>